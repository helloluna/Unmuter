/* ============================================================
   unmuter.org Theme — Human Rights Archive + OHCHR Hybrid
   Light = 档案室白天 · Dark = 夜间阅览室
   ============================================================ */

/* ========= 基础变量（Light Mode） ========= */
:root {
  --sl-font-body: "Inter", "Noto Sans", "Helvetica Neue", Arial, sans-serif;
  --sl-font-heading: "Source Serif Pro", "Georgia", "Times New Roman", serif;

  --sl-color-text: #26231e;
  --sl-color-background: #f7f3ec;   /* 暖纸色 */
  --sl-color-brand: #1f4b6e;        /* 墨蓝（标题/链接） */
  --sl-color-accent: #d3572c;       /* 档案橙红（强调） */

  --sl-color-link: var(--sl-color-brand);
  --sl-color-link-hover: #163550;

  --sl-color-border: #ded6c8;
  --sl-content-width: 48rem;

  --sl-line-height: 1.85;
}

/* ========= Dark Mode 变量 ========= */
:root[data-theme="dark"] {
  --sl-color-text: #e1ddd6;
  --sl-color-background: #111417;   /* 夜间深色 */
  --sl-color-brand: #4e8ccf;        /* 夜间蓝 */
  --sl-color-accent: #e57c50;
  --sl-color-border: #343b44;
}

/* ========= 全局文字 & 布局 ========= */
body,
.sl-root,
.sl-markdown,
nav,
.sl-sidebar {
  font-family: var(--sl-font-body) !important;
  font-size: 1.04rem;
  font-weight: 400;
  background: var(--sl-color-background);
  color: var(--sl-color-text);
  line-height: var(--sl-line-height);
  letter-spacing: 0.015em;
  margin: 0;
  padding: 0;
}

/* 可选：纸张纹理（public/textures/paper.png 存在时更好看） */
body {
  background:
    url("/textures/paper.png") repeat,
    var(--sl-color-background);
  background-size: 500px;
}

/* 主内容区域：像一张纸放在桌面上 */
.sl-markdown {
  margin-inline: auto;
  max-width: var(--sl-content-width);
  padding: 2rem 2.5rem;
  background: rgba(255,255,255,0.55);
  border-radius: 8px;
  box-shadow: 0 2px 12px rgba(0,0,0,0.06);
  animation: fadein 0.35s ease-out;
}

/* 内容内元素间距 */
.sl-markdown > * {
  margin-top: 0.4rem;
  margin-bottom: 1.3rem;
}

/* ========= 标题 ========= */
h1,
h2,
h3,
.sl-markdown h1,
.sl-markdown h2,
.sl-markdown h3 {
  color: var(--sl-color-brand);
  font-family: var(--sl-font-heading) !important;
  font-weight: 600;
  margin-top: 2.1rem;
  margin-bottom: 1.1rem;
  letter-spacing: 0.035em;
}

h1,
.sl-markdown h1 { font-size: 2.3rem; }

h2,
.sl-markdown h2 { font-size: 1.6rem; }

h3,
.sl-markdown h3 { font-size: 1.18rem; }

/* 主标题下的导语加细线，像报告 */
.sl-markdown h1 + p {
  border-top: 1px solid rgba(0,0,0,0.06);
  padding-top: 0.9rem;
  margin-top: 0.6rem;
}

/* Dark mode 标题稍亮 */
:root[data-theme="dark"] h1,
:root[data-theme="dark"] h2,
:root[data-theme="dark"] h3,
:root[data-theme="dark"] .sl-markdown h1,
:root[data-theme="dark"] .sl-markdown h2,
:root[data-theme="dark"] .sl-markdown h3 {
  color: #e9edf3;
}

/* ========= 链接 ========= */
a,
.sl-markdown a,
.sl-sidebar a {
  color: var(--sl-color-link);
  border-bottom: 1px dashed var(--sl-color-link);
  text-decoration: none;
  transition: color 0.18s, border-bottom-color 0.18s;
}

a:hover,
.sl-markdown a:hover,
.sl-sidebar a:hover {
  color: var(--sl-color-link-hover);
  border-bottom-color: var(--sl-color-link-hover);
}

/* Sidebar 链接不需要下划线 */
.sl-sidebar a {
  border-bottom: none !important;
}

/* ========= 引用块 ========= */
.sl-markdown blockquote {
  border-left: 4px solid #c2d3e0;
  background: rgba(194, 211, 224, 0.25);
  padding: 1.05rem 1.3rem;
  margin-inline: 0;
  margin-block: 1.8rem;
  font-style: normal;
  color: #2d3643;
}

/* Dark mode 引用 */
:root[data-theme="dark"] .sl-markdown blockquote {
  background: rgba(78,140,207,0.16);
  border-color: rgba(78,140,207,0.5);
}

/* ========= 表格 ========= */
.sl-markdown table {
  border-collapse: collapse;
  width: 100%;
  margin: 2rem 0;
  font-size: 0.97rem;
}

.sl-markdown th,
.sl-markdown td {
  border: 1px solid var(--sl-color-border);
  padding: 0.7rem 0.9rem;
  text-align: left;
  vertical-align: top;
}

/* ⭐ 表头颜色（UN蓝系） */
.sl-markdown table thead th,
table thead th {
  background-color: rgba(31, 75, 110, 0.12) !important;
  color: #1f4b6e !important;
  font-weight: 600 !important;
  border-bottom: 1px solid rgba(31, 75, 110, 0.25);
}

.sl-markdown table thead th:hover {
  background-color: rgba(31, 75, 110, 0.18) !important;
}

/* Dark mode 表头 */
:root[data-theme="dark"] .sl-markdown table thead th,
:root[data-theme="dark"] table thead th {
  background-color: rgba(31, 75, 110, 0.32) !important;
  color: #e9edf3 !important;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

/* ========= Sidebar ========= */
.sl-sidebar-section-title {
  color: #3a332b;
  font-weight: 700;
  font-size: 1.05rem;
  margin-bottom: 0.3rem;
}

:root[data-theme="dark"] .sl-sidebar-section-title {
  color: #d8cec7;
}

nav,
.sl-sidebar {
  font-family: var(--sl-font-body) !important;
  font-size: 1.02rem;
  letter-spacing: 0.02em;
}

/* 当前页面高亮：浅蓝背景 + 墨蓝字 */
nav [aria-current="page"],
nav [data-active="true"] {
  background: #e6f0f9 !important;
  color: var(--sl-color-brand) !important;
  font-weight: 700;
  border-radius: 7px;
}

/* Dark mode sidebar 高亮 */
:root[data-theme="dark"] nav [aria-current="page"],
:root[data-theme="dark"] nav [data-active="true"] {
  background: #213146 !important;
  color: #e9edf3 !important;
}

/* ========= Dark mode 全局覆盖 ========= */
:root[data-theme="dark"] body,
:root[data-theme="dark"] .sl-root,
:root[data-theme="dark"] .sl-markdown,
:root[data-theme="dark"] nav,
:root[data-theme="dark"] .sl-sidebar {
  background: var(--sl-color-background);
  color: var(--sl-color-text);
}

/* =========================================
   ARCHIVE COMPONENTS — 专门给 unmuter 用
   ========================================= */

/* 时间线条目 */
.timeline-item {
  border-left: 4px solid var(--sl-color-brand);
  padding-left: 1rem;
  margin-bottom: 1.5rem;
  background: rgba(31, 75, 110, 0.04);
  padding-block: 0.7rem;
  border-radius: 4px;
}

/* 时间线小圆点 */
.timeline-dot {
  height: 10px;
  width: 10px;
  background: var(--sl-color-accent);
  border-radius: 50%;
  display: inline-block;
  margin-right: 0.5rem;
}

/* 证据盒（Evidence Box） */
.evidence-box {
  border: 1px solid var(--sl-color-border);
  background: rgba(0, 0, 0, 0.03);
  padding: 1rem 1.2rem;
  margin: 1.8rem 0;
  border-left: 4px solid var(--sl-color-accent);
  border-radius: 6px;
}

.evidence-box strong {
  color: var(--sl-color-accent);
}

/* Impact Section（家庭视角） */
.impact-section {
  background: rgba(211, 87, 44, 0.06);
  border-left: 4px solid var(--sl-color-accent);
  padding: 1.4rem 1.4rem;
  margin: 2.2rem 0;
  border-radius: 6px;
  font-size: 1.05rem;
  color: #3c2f29;
}

/* 重点句（大号 quote） */
.impact-quote {
  font-size: 1.45rem;
  color: var(--sl-color-accent);
  font-weight: 600;
  border-left: 4px solid var(--sl-color-accent);
  padding-left: 1rem;
  margin: 2.2rem 0;
  line-height: 1.4;
}

/* 文档列表 */
.document-list {
  list-style: none;
  padding-left: 0;
  margin: 1.4rem 0;
}

.document-list li {
  padding: 0.6rem 0.4rem;
  border-bottom: 1px dashed rgba(0,0,0,0.07);
  display: flex;
  align-items: center;
}

.document-list li:last-child {
  border-bottom: none;
}

/* 文档标签（PTA / OMB / EOC / AHRC 等） */
.document-badge {
  font-size: 0.75rem;
  color: var(--sl-color-accent);
  border: 1px solid var(--sl-color-accent);
  padding: 0.1rem 0.45rem;
  border-radius: 999px;
  margin-right: 0.6rem;
  text-transform: uppercase;
  letter-spacing: 0.06em;
}

/* 档案卡片 */
.archive-card {
  border-left: 4px solid var(--sl-color-brand);
  padding: 1rem 1.4rem;
  margin: 1.5rem 0;
  background: rgba(31,75,110,0.05);
  border-radius: 6px;
}

.archive-card h3 {
  margin-top: 0;
}

/* 胶带标签（可用于 PDF 标记） */
.tape {
  background: rgba(255, 239, 180, 0.85);
  padding: 0.3rem 0.6rem;
  transform: rotate(-1.5deg);
  display: inline-block;
  box-shadow: 0 2px 6px rgba(0,0,0,.1);
  font-size: 0.78rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
}

/* 小注释（档案脚注） */
.note {
  font-family: "IBM Plex Mono", monospace;
  font-size: 0.85rem;
  color: #6a645c;
}

/* 图片说明 */
.caption {
  font-size: 0.85rem;
  color: #5e5a54;
  text-align: center;
  margin-top: -0.6rem;
  margin-bottom: 1.6rem;
}

/* =========================================
   动画 & Mobile
   ========================================= */

@keyframes fadein {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* Mobile 调整 */
@media (max-width: 700px) {
  body {
    padding: 0.4rem 0.4rem;
  }

  .sl-markdown {
    max-width: 92%;
    padding: 1.5rem 1.2rem;
  }

  h1, .sl-markdown h1 { font-size: 2rem; }
  h2, .sl-markdown h2 { font-size: 1.4rem; }
}